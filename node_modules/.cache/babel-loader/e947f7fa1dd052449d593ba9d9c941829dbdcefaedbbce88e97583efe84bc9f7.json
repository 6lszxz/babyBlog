{"ast":null,"code":"import { DateTime } from \"luxon\";\nimport axios from \"axios\";\nexport default {\n  name: \"blogStatus\",\n  computed: {\n    createTime() {\n      if (this.$store.state.blogIdNow === null) {\n        return '';\n      }\n      return DateTime.fromMillis(Number(this.$store.getters.getBlogNowById.createTime)).toLocaleString(DateTime.DATE_MED);\n    }\n  },\n  methods: {\n    sendToServer() {\n      axios.post('http://43.142.78.228:4444/updateBlog', {\n        title: this.$store.getters.getBlogNowById.title,\n        content: this.$store.getters.getBlogNowById.content,\n        id: this.$store.getters.getBlogNowById.id,\n        createTime: this.$store.getters.getBlogNowById.createTime\n      }).then(response => {\n        console.log(response);\n      }).catch(e => {\n        alert(e);\n      });\n    },\n    deleteBlog() {\n      let length = this.$store.state.blogList.length;\n      for (let i = 0; i < length; i++) {\n        if (this.$store.state.blogIdNow === this.$store.state.blogList[i]) {\n          this.$store.state.blogList = this.$store.state.blogList.splice(i, 1);\n          console.log(this.$store.state.blogList);\n          return;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAeA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,QAAQ,EAAC;IACPC,UAAU,GAAE;MACV,IAAG,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,SAAQ,KAAM,IAAI,EAAC;QACtC,OAAO,EAAE;MACX;MACA,OAAOP,QAAQ,CAACQ,UAAU,CAACC,MAAM,CAAC,IAAI,CAACJ,MAAM,CAACK,OAAO,CAACC,cAAc,CAACP,UAAU,CAAC,CAAC,CAACQ,cAAc,CAACZ,QAAQ,CAACa,QAAQ;IACpH;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,YAAY,GAAE;MACZd,KAAK,CAACe,IAAI,CAAC,sCAAsC,EAAC;QAChDC,KAAK,EAAE,IAAI,CAACZ,MAAM,CAACK,OAAO,CAACC,cAAc,CAACM,KAAK;QAC/CC,OAAO,EAAE,IAAI,CAACb,MAAM,CAACK,OAAO,CAACC,cAAc,CAACO,OAAO;QACnDC,EAAE,EAAE,IAAI,CAACd,MAAM,CAACK,OAAO,CAACC,cAAc,CAACQ,EAAE;QACzCf,UAAU,EAAE,IAAI,CAACC,MAAM,CAACK,OAAO,CAACC,cAAc,CAACP;MACjD,CAAC,EACIgB,IAAI,CAACC,QAAQ,IAAE;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ;MACtB,CAAC,EACAG,KAAK,CAACC,CAAC,IAAE;QACRC,KAAK,CAACD,CAAC,CAAC;MACV,CAAC;IACP,CAAC;IACDE,UAAU,GAAE;MACV,IAAIC,MAAK,GAAI,IAAI,CAACvB,MAAM,CAACC,KAAK,CAACuB,QAAQ,CAACD,MAAM;MAC9C,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,MAAM,EAACE,CAAC,EAAE,EAAC;QACvB,IAAG,IAAI,CAACzB,MAAM,CAACC,KAAK,CAACC,SAAQ,KAAM,IAAI,CAACF,MAAM,CAACC,KAAK,CAACuB,QAAQ,CAACC,CAAC,CAAC,EAAC;UAC/D,IAAI,CAACzB,MAAM,CAACC,KAAK,CAACuB,QAAO,GAAI,IAAI,CAACxB,MAAM,CAACC,KAAK,CAACuB,QAAQ,CAACE,MAAM,CAACD,CAAC,EAAC,CAAC,CAAC;UACnER,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClB,MAAM,CAACC,KAAK,CAACuB,QAAQ;UACtC;QACF;MAEF;IACF;EACF;AACF","names":["DateTime","axios","name","computed","createTime","$store","state","blogIdNow","fromMillis","Number","getters","getBlogNowById","toLocaleString","DATE_MED","methods","sendToServer","post","title","content","id","then","response","console","log","catch","e","alert","deleteBlog","length","blogList","i","splice"],"sourceRoot":"","sources":["E:\\Programs\\learnvue\\src\\components\\blogStatus.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    创建于 {{createTime}}\r\n  </div>\r\n  <div class=\"blogFunctions\">\r\n    <el-button class=\"oppositeColor\" @click=\"sendToServer\">\r\n      上传到服务器\r\n    </el-button>\r\n    <el-button type=\"danger\" @click=\"deleteBlog\">\r\n      删除博客\r\n    </el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {DateTime} from \"luxon\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"blogStatus\",\r\n  computed:{\r\n    createTime(){\r\n      if(this.$store.state.blogIdNow === null){\r\n        return '';\r\n      }\r\n      return DateTime.fromMillis(Number(this.$store.getters.getBlogNowById.createTime)).toLocaleString(DateTime.DATE_MED)\r\n    }\r\n  },\r\n  methods:{\r\n    sendToServer(){\r\n      axios.post('http://43.142.78.228:4444/updateBlog',{\r\n        title: this.$store.getters.getBlogNowById.title,\r\n        content: this.$store.getters.getBlogNowById.content,\r\n        id: this.$store.getters.getBlogNowById.id,\r\n        createTime: this.$store.getters.getBlogNowById.createTime,\r\n      })\r\n          .then(response=>{\r\n            console.log(response)\r\n          })\r\n          .catch(e=>{\r\n            alert(e);\r\n          })\r\n    },\r\n    deleteBlog(){\r\n      let length = this.$store.state.blogList.length;\r\n      for(let i=0;i<length;i++){\r\n        if(this.$store.state.blogIdNow === this.$store.state.blogList[i]){\r\n          this.$store.state.blogList = this.$store.state.blogList.splice(i,1,)\r\n          console.log(this.$store.state.blogList)\r\n          return;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use \"element-plus/theme-chalk/src/common/var\";\r\n\r\ndiv.oppositeColor{\r\n  color: var.$color-white;\r\n}\r\n*.oppositeColor{\r\n  background-color: var.$color-primary;\r\n}\r\n.blogFunctions{\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}